WEBVTT

1
00:00:00.000 --> 00:00:01.557
<v Instructor>So, now let's talk about outputs</v>

2
00:00:01.557 --> 00:00:03.150
and CloudFormation.

3
00:00:03.150 --> 00:00:05.580
So, the output section is optional

4
00:00:05.580 --> 00:00:07.800
and it declares optional output values,

5
00:00:07.800 --> 00:00:09.360
but then if we declare them,

6
00:00:09.360 --> 00:00:12.990
we can import these values into other stacks.

7
00:00:12.990 --> 00:00:15.750
And so, the idea is that we can link, for example,

8
00:00:15.750 --> 00:00:18.930
a network stack which has an exported output,

9
00:00:18.930 --> 00:00:20.820
which is your VPC ID,

10
00:00:20.820 --> 00:00:24.570
and we can reference that exported outputted value

11
00:00:24.570 --> 00:00:27.330
from another application stack.

12
00:00:27.330 --> 00:00:28.860
So this is very handy.

13
00:00:28.860 --> 00:00:32.280
We can also view the values of the outputs in the console

14
00:00:32.280 --> 00:00:33.780
or by using the CLA.

15
00:00:33.780 --> 00:00:36.900
And so it's very helpful to have an output if you define,

16
00:00:36.900 --> 00:00:39.300
for example, a network CloudFormation stack,

17
00:00:39.300 --> 00:00:42.600
and then you output the VPC IDs and the Subnet IDs

18
00:00:42.600 --> 00:00:44.490
and reuse them other ways.

19
00:00:44.490 --> 00:00:45.780
It's the best way

20
00:00:45.780 --> 00:00:49.710
to also perform some collaboration across stacks

21
00:00:49.710 --> 00:00:52.350
and let experts handle their own stacks

22
00:00:52.350 --> 00:00:54.420
and collaborate this way.

23
00:00:54.420 --> 00:00:56.460
So, if you have a look at the output,

24
00:00:56.460 --> 00:00:58.350
here is a sample output.

25
00:00:58.350 --> 00:01:01.620
So, we are creating an SSH security group

26
00:01:01.620 --> 00:01:03.780
as part of one template.

27
00:01:03.780 --> 00:01:05.550
And then we create an output

28
00:01:05.550 --> 00:01:08.310
that has a reference to the security group.

29
00:01:08.310 --> 00:01:13.260
And this specific output also has an export block,

30
00:01:13.260 --> 00:01:15.330
which is going to export the value

31
00:01:15.330 --> 00:01:17.010
of this output as a name.

32
00:01:17.010 --> 00:01:19.350
So the name is SSHSecurityGroup.

33
00:01:19.350 --> 00:01:22.890
And this name has to be unique across all your exports

34
00:01:22.890 --> 00:01:24.690
in one specific region.

35
00:01:24.690 --> 00:01:29.400
And so now we can access through this SSH Security Group,

36
00:01:29.400 --> 00:01:31.380
the security group ID

37
00:01:31.380 --> 00:01:34.410
for our SSH Security Group in our company.

38
00:01:34.410 --> 00:01:35.610
So, how do we reuse it?

39
00:01:35.610 --> 00:01:39.475
Well, here is another CloudFormation template,

40
00:01:39.475 --> 00:01:43.620
and this one will leverage the security group from before.

41
00:01:43.620 --> 00:01:46.530
So it has an import value function,

42
00:01:46.530 --> 00:01:49.470
as you can see right now, outlined in red.

43
00:01:49.470 --> 00:01:52.200
And so that means that for this EC2 instance

44
00:01:52.200 --> 00:01:55.110
that we're creating, the security group

45
00:01:55.110 --> 00:01:57.518
has its value imported from another stack

46
00:01:57.518 --> 00:02:01.920
in which we had exported the value, which was right here.

47
00:02:01.920 --> 00:02:02.970
So this is how you link

48
00:02:02.970 --> 00:02:05.220
two different CloudFormation templates.

49
00:02:05.220 --> 00:02:07.290
And therefore, because they're linked,

50
00:02:07.290 --> 00:02:10.620
it's impossible for you to delete the first stack

51
00:02:10.620 --> 00:02:13.110
that has its value exported

52
00:02:13.110 --> 00:02:17.160
until all the other ones don't reference it anymore.

53
00:02:17.160 --> 00:02:18.570
So it's important to know.

54
00:02:18.570 --> 00:02:20.550
Okay, so that's it for this lecture.

55
00:02:20.550 --> 00:02:21.720
Now you know about outputs.

56
00:02:21.720 --> 00:02:25.023
I hope you liked it, and I will see you in the next lecture.

