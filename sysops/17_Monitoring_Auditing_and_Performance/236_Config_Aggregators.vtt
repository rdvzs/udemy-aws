WEBVTT

1
00:00:00.160 --> 00:00:02.070
<v Instructor>So a question that has come up in the exam</v>

2
00:00:02.070 --> 00:00:05.630
is around AWS Config aggregators, so what is it?

3
00:00:05.630 --> 00:00:07.790
Well, say you are managing multiple accounts

4
00:00:07.790 --> 00:00:09.870
and multiple regions within these accounts.

5
00:00:09.870 --> 00:00:11.250
So we have Account A, Account B,

6
00:00:11.250 --> 00:00:13.310
and they're called "source accounts", why?

7
00:00:13.310 --> 00:00:15.953
Because they all have a deployment of AWS Config.

8
00:00:16.880 --> 00:00:19.320
But you want to aggregate all this information

9
00:00:19.320 --> 00:00:21.670
into a central AWS account.

10
00:00:21.670 --> 00:00:24.060
And this account is called an aggregator account,

11
00:00:24.060 --> 00:00:26.460
and this is only in the aggregator account

12
00:00:26.460 --> 00:00:28.470
that you're going to create an aggregator, okay?

13
00:00:28.470 --> 00:00:31.970
From the aggregator, you're going to get an aggregated view,

14
00:00:31.970 --> 00:00:34.070
which is allowing you to see all the compliant

15
00:00:34.070 --> 00:00:36.810
and non-compliant resources across all your accounts

16
00:00:36.810 --> 00:00:38.040
and all your regions.

17
00:00:38.040 --> 00:00:39.881
So that makes a lot of sense,

18
00:00:39.881 --> 00:00:41.140
to have this kind of aggregation.

19
00:00:41.140 --> 00:00:42.420
So remember,

20
00:00:42.420 --> 00:00:44.840
the aggregator is created in only one central account,

21
00:00:44.840 --> 00:00:47.810
they're not created in each individual source accounts.

22
00:00:47.810 --> 00:00:49.590
Then this aggregator will aggregate

23
00:00:49.590 --> 00:00:52.160
everything that is available in the target accounts,

24
00:00:52.160 --> 00:00:54.460
for example, rules, resources, et cetera,

25
00:00:54.460 --> 00:00:57.620
across multiple accounts and multiple regions.

26
00:00:57.620 --> 00:01:00.290
And if you are using AWS Organization,

27
00:01:00.290 --> 00:01:04.340
then there is no need to do authorization

28
00:01:04.340 --> 00:01:06.250
at the individual accounts, okay?

29
00:01:06.250 --> 00:01:08.040
You just create your aggregator

30
00:01:08.040 --> 00:01:10.380
in your management account in Organization,

31
00:01:10.380 --> 00:01:13.010
and the authorizations will happen automatically.

32
00:01:13.010 --> 00:01:15.620
But if you're not using AWS Organizations

33
00:01:15.620 --> 00:01:18.100
then you would need to create an authorization

34
00:01:18.100 --> 00:01:19.507
in an account A to say

35
00:01:19.507 --> 00:01:23.207
"Hey, I authorize the AWS accounts aggregator

36
00:01:23.207 --> 00:01:24.820
"to collect data,"

37
00:01:24.820 --> 00:01:27.030
and then you would create a second authorization,

38
00:01:27.030 --> 00:01:29.930
obviously in Account B, to do the exact same thing.

39
00:01:29.930 --> 00:01:31.680
Once these authorizations are in place,

40
00:01:31.680 --> 00:01:32.513
and this is only, again,

41
00:01:32.513 --> 00:01:34.920
if you're not using AWS Organizations,

42
00:01:34.920 --> 00:01:38.080
then the aggregator will be able to collect data,

43
00:01:38.080 --> 00:01:40.470
to pull data from these targeted accounts

44
00:01:40.470 --> 00:01:42.050
and aggregate them.

45
00:01:42.050 --> 00:01:43.830
Now the rules management

46
00:01:43.830 --> 00:01:47.440
is done at the individual account level, okay?

47
00:01:47.440 --> 00:01:49.870
So the aggregator is just here to aggregate data,

48
00:01:49.870 --> 00:01:52.410
it's not here to centralize rules, and so on.

49
00:01:52.410 --> 00:01:55.520
So if you want to deploy rules across multiple accounts,

50
00:01:55.520 --> 00:01:58.140
the best way to do it, in multiple regions, obviously,

51
00:01:58.140 --> 00:01:59.610
the best way to do it would be

52
00:01:59.610 --> 00:02:01.780
to use CloudFormation StackSets,

53
00:02:01.780 --> 00:02:03.810
which allows you to deploy a CloudFormation Stack

54
00:02:03.810 --> 00:02:06.500
across multiple accounts and multiple regions.

55
00:02:06.500 --> 00:02:08.210
So I hope this makes sense, I hope you liked it,

56
00:02:08.210 --> 00:02:10.160
and I will see you in the next lecture.

