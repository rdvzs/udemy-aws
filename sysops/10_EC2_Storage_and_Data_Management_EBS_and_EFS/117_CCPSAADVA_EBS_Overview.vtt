WEBVTT

1
00:00:00.630 --> 00:00:02.520
<v Instructor>Welcome to this section where we will look</v>

2
00:00:02.520 --> 00:00:06.300
at the different storage options for EC2 instances.

3
00:00:06.300 --> 00:00:07.950
So first, the most important ones

4
00:00:07.950 --> 00:00:09.570
are going to be EBS volumes.

5
00:00:09.570 --> 00:00:11.130
So let's define what they are.

6
00:00:11.130 --> 00:00:15.240
And EBS volume stands for Elastic Block Store.

7
00:00:15.240 --> 00:00:17.220
It's a network drive that you cannot attach

8
00:00:17.220 --> 00:00:19.740
to your instances while they run.

9
00:00:19.740 --> 00:00:22.080
And we've been using them without even knowing.

10
00:00:22.080 --> 00:00:26.010
So this EBS Volumes allow us to persist data

11
00:00:26.010 --> 00:00:28.950
even after the instance is terminated.

12
00:00:28.950 --> 00:00:30.510
And so that's the whole purpose.

13
00:00:30.510 --> 00:00:32.280
We can recreate an instance

14
00:00:32.280 --> 00:00:34.680
and mount the same EBS Volume from before,

15
00:00:34.680 --> 00:00:36.600
and we will get back our data.

16
00:00:36.600 --> 00:00:38.070
That is very helpful.

17
00:00:38.070 --> 00:00:42.480
So these EBS Volumes at the CCP level can only be mounted

18
00:00:42.480 --> 00:00:45.180
to one instance at a time, okay?

19
00:00:45.180 --> 00:00:47.280
And when you create an EBS Volume,

20
00:00:47.280 --> 00:00:50.010
it is bound to a specific availability zone.

21
00:00:50.010 --> 00:00:53.460
That means that you cannot have an EBS Volume in created,

22
00:00:53.460 --> 00:00:55.830
for example, us-east 1a attached

23
00:00:55.830 --> 00:00:58.020
to an instance in us-east 1b.

24
00:00:58.020 --> 00:01:00.000
We'll see this in the diagram in a second.

25
00:01:00.000 --> 00:01:02.190
So how do you think of EBS Volumes?

26
00:01:02.190 --> 00:01:05.520
Well, you can think of them as network USB sticks.

27
00:01:05.520 --> 00:01:09.060
So it's a USB stick that you can take from a computer

28
00:01:09.060 --> 00:01:10.500
and put it in another computer,

29
00:01:10.500 --> 00:01:13.110
but you actually don't physically put it in a computer.

30
00:01:13.110 --> 00:01:15.960
It's a attached through the network.

31
00:01:15.960 --> 00:01:16.980
Now let's look at it.

32
00:01:16.980 --> 00:01:18.450
So EBS Volumes are network drive,

33
00:01:18.450 --> 00:01:20.490
as I said, it's not a physical drive, okay?

34
00:01:20.490 --> 00:01:22.740
So to communicate between the instance

35
00:01:22.740 --> 00:01:25.950
and the EBS Volume, it will be using the network.

36
00:01:25.950 --> 00:01:27.510
And because their network is used,

37
00:01:27.510 --> 00:01:29.940
there may be a bit of latency from one computer

38
00:01:29.940 --> 00:01:31.950
to reach to another server.

39
00:01:31.950 --> 00:01:34.740
Now, EBS Volumes, because there are a network drive

40
00:01:34.740 --> 00:01:37.050
that can be detached from an EC2 instance

41
00:01:37.050 --> 00:01:39.810
and attached to another one very quickly.

42
00:01:39.810 --> 00:01:41.730
And that makes it super handy

43
00:01:41.730 --> 00:01:44.250
when you want to do failovers, for example.

44
00:01:44.250 --> 00:01:47.880
EBS Volumes are locked to a specific Availability Zones.

45
00:01:47.880 --> 00:01:50.280
That means that, as I said, if it's created in us-east 1a,

46
00:01:50.280 --> 00:01:52.407
it cannot be attached to us-east 1b.

47
00:01:52.407 --> 00:01:56.070
But we will see in this section that if we do a snapshot,

48
00:01:56.070 --> 00:01:58.830
then we are able to move a volume across

49
00:01:58.830 --> 00:02:00.750
from different availability zones.

50
00:02:00.750 --> 00:02:02.340
And finally, it's a volume.

51
00:02:02.340 --> 00:02:04.860
So you have to provision capacity in advance.

52
00:02:04.860 --> 00:02:07.860
So you need to say how many gigabytes you want in advance,

53
00:02:07.860 --> 00:02:11.460
and the IOPS, which is IO operations per second.

54
00:02:11.460 --> 00:02:13.320
And you're basically defining

55
00:02:13.320 --> 00:02:15.990
how you want your EBS volume to perform.

56
00:02:15.990 --> 00:02:19.200
You're going to get billed for that provision capacity,

57
00:02:19.200 --> 00:02:21.500
and you can increase the capacity over time if you want

58
00:02:21.500 --> 00:02:24.180
to have better performance or more size.

59
00:02:24.180 --> 00:02:26.220
So as a diagram, what does it look like.

60
00:02:26.220 --> 00:02:29.310
Well, we have us-east 1a, we have one EC2 instance,

61
00:02:29.310 --> 00:02:31.980
and we can attach, for example, one EBS Volume

62
00:02:31.980 --> 00:02:33.660
to that EC2 instance.

63
00:02:33.660 --> 00:02:36.600
If we create another EC2 instance, as I said,

64
00:02:36.600 --> 00:02:38.340
an EBS Volume cannot be attached

65
00:02:38.340 --> 00:02:41.730
to two instances at a time at the certified

66
00:02:41.730 --> 00:02:42.990
cloud practitioner level.

67
00:02:42.990 --> 00:02:44.940
And therefore, what I wanna say is

68
00:02:44.940 --> 00:02:47.010
that this other EC2 instance needs

69
00:02:47.010 --> 00:02:49.740
to have its own EBS volume attached to it,

70
00:02:49.740 --> 00:02:51.690
but it is very possible for us

71
00:02:51.690 --> 00:02:55.230
to have two EBS volumes attached to one instance.

72
00:02:55.230 --> 00:02:59.430
Think of it as two network USB sticks into one machine.

73
00:02:59.430 --> 00:03:00.900
That makes a lot of sense.

74
00:03:00.900 --> 00:03:04.230
Now, EBS volumes are linked to an availability zone.

75
00:03:04.230 --> 00:03:06.330
So as we can see, all this diagram has been

76
00:03:06.330 --> 00:03:08.430
so far using us-east 1a.

77
00:03:08.430 --> 00:03:11.820
So if you wanted to have other EBS volumes in other AZ,

78
00:03:11.820 --> 00:03:14.910
then you would need to create this separately

79
00:03:14.910 --> 00:03:16.260
in the other availability zone.

80
00:03:16.260 --> 00:03:20.520
So just same way that your EC2 instances are bound to an AZ,

81
00:03:20.520 --> 00:03:23.160
so are the EBS Volumes.

82
00:03:23.160 --> 00:03:26.400
Finally, it is possible for us to create EBS Volumes

83
00:03:26.400 --> 00:03:28.470
and leave them unattached that don't need

84
00:03:28.470 --> 00:03:30.810
to be necessarily attached to an EC2 instance

85
00:03:30.810 --> 00:03:32.250
that can be attached on demand,

86
00:03:32.250 --> 00:03:34.620
and that makes it very, very powerful.

87
00:03:34.620 --> 00:03:36.510
Finally, we'll, when we go ahead

88
00:03:36.510 --> 00:03:40.620
and create EBS volumes through EC2 instances,

89
00:03:40.620 --> 00:03:42.210
there is this thing called a delete

90
00:03:42.210 --> 00:03:43.410
on termination attribute.

91
00:03:43.410 --> 00:03:44.910
And this can come up in the exam.

92
00:03:44.910 --> 00:03:46.800
So if you look at this,

93
00:03:46.800 --> 00:03:51.570
when we create an EBS volume in the console,

94
00:03:51.570 --> 00:03:53.850
when we create an EC2 instance,

95
00:03:53.850 --> 00:03:55.710
there is the second to last column

96
00:03:55.710 --> 00:03:57.720
called delete on termination.

97
00:03:57.720 --> 00:04:00.390
And by default, it is ticked for the root volume

98
00:04:00.390 --> 00:04:03.210
and not ticked for a new EBS volume.

99
00:04:03.210 --> 00:04:06.750
So this controls the EBS behavior when an EC2 instance

100
00:04:06.750 --> 00:04:08.280
is being terminated.

101
00:04:08.280 --> 00:04:10.020
So by default, as we can see,

102
00:04:10.020 --> 00:04:12.480
the root EBS volume is deleted

103
00:04:12.480 --> 00:04:14.850
alongside the instance being terminated.

104
00:04:14.850 --> 00:04:17.310
So it's enabled, and by default,

105
00:04:17.310 --> 00:04:20.100
any other attached EBS volume is not deleted

106
00:04:20.100 --> 00:04:22.170
because it's disabled by default.

107
00:04:22.170 --> 00:04:24.270
But obviously, as we can see in this UI,

108
00:04:24.270 --> 00:04:26.850
we can control if you want to enable

109
00:04:26.850 --> 00:04:29.190
or disable delete on termination.

110
00:04:29.190 --> 00:04:31.050
And so use case, right, would be for example,

111
00:04:31.050 --> 00:04:33.810
that if you want to preserve the root volume

112
00:04:33.810 --> 00:04:35.520
when an instance is terminated, for example,

113
00:04:35.520 --> 00:04:37.290
to save some data,

114
00:04:37.290 --> 00:04:39.270
then you can disable delete on termination

115
00:04:39.270 --> 00:04:41.610
for the root volume and you'll be good to go.

116
00:04:41.610 --> 00:04:44.820
And that could be an exam scenario at the exam.

117
00:04:44.820 --> 00:04:45.750
So I hope you liked it,

118
00:04:45.750 --> 00:04:47.700
and I will see you in the next lecture.

