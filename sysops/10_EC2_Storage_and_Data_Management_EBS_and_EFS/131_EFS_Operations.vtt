WEBVTT

1
00:00:00.380 --> 00:00:02.060
<v ->Okay, so now let's talk about operations</v>

2
00:00:02.060 --> 00:00:04.300
you can do on your EFS file system.

3
00:00:04.300 --> 00:00:06.380
So some operations can be done in place,

4
00:00:06.380 --> 00:00:08.520
such as enabling and life cycle policy,

5
00:00:08.520 --> 00:00:10.460
to transitioning into the IA here

6
00:00:10.460 --> 00:00:12.340
or to change your IA settings.

7
00:00:12.340 --> 00:00:14.060
You can also change your throughput mode

8
00:00:14.060 --> 00:00:16.610
and your provision throughput numbers,

9
00:00:16.610 --> 00:00:19.640
and you can create EFS access points as we've just seen.

10
00:00:19.640 --> 00:00:21.799
But, some operations require a full migration

11
00:00:21.799 --> 00:00:24.350
of your EFS file system

12
00:00:24.350 --> 00:00:26.930
using DataSyncs because DataSync will replicate

13
00:00:26.930 --> 00:00:29.000
all of our attributes and metadata.

14
00:00:29.000 --> 00:00:32.170
So if you want to migrate to an encrypted EFS

15
00:00:32.170 --> 00:00:33.700
or a different encryption key,

16
00:00:33.700 --> 00:00:35.760
then you would need to use DataSync,

17
00:00:35.760 --> 00:00:37.257
or if you want it to enable performance mode,

18
00:00:37.257 --> 00:00:38.790
for example, Max IO,

19
00:00:38.790 --> 00:00:40.990
then you would need again to use DataSync

20
00:00:40.990 --> 00:00:43.440
because you need to create a new separate EFS file system.

21
00:00:43.440 --> 00:00:44.600
So let's have an example.

22
00:00:44.600 --> 00:00:47.230
This is your source EFS file system.

23
00:00:47.230 --> 00:00:49.870
And this is your destination EFS file system,

24
00:00:49.870 --> 00:00:51.300
which is encrypted.

25
00:00:51.300 --> 00:00:52.950
And so to migrate between the two,

26
00:00:52.950 --> 00:00:54.370
using the DataSync service,

27
00:00:54.370 --> 00:00:56.520
it can be done very easily.

28
00:00:56.520 --> 00:00:58.910
And then you can migrate your E2 instances

29
00:00:58.910 --> 00:01:00.580
from the first file system

30
00:01:00.580 --> 00:01:02.033
to the second file system.

31
00:01:03.330 --> 00:01:04.163
So as we saw before,

32
00:01:04.163 --> 00:01:05.270
access points can be created.

33
00:01:05.270 --> 00:01:07.840
But if I click on this file system itself,

34
00:01:07.840 --> 00:01:09.360
we can edit a few things.

35
00:01:09.360 --> 00:01:10.193
So as we can see,

36
00:01:10.193 --> 00:01:13.170
we can enable the lifecycle management

37
00:01:13.170 --> 00:01:14.750
directly from this UI,

38
00:01:14.750 --> 00:01:16.980
and we can change the throughput mode directly

39
00:01:16.980 --> 00:01:18.720
from bursting to provisions.

40
00:01:18.720 --> 00:01:19.553
And if provision,

41
00:01:19.553 --> 00:01:21.900
we can change the provision throughput over time, okay?

42
00:01:21.900 --> 00:01:25.360
We can also enable and disable automatic backups.

43
00:01:25.360 --> 00:01:28.630
But if we want it to encrypt it or to change the encryption,

44
00:01:28.630 --> 00:01:30.000
then we need to use DataSyncs.

45
00:01:30.000 --> 00:01:31.460
So let me show you an example.

46
00:01:31.460 --> 00:01:35.430
So I'll just call it a unencrypted EFS,

47
00:01:35.430 --> 00:01:38.730
and then I will choose a customizable one.

48
00:01:38.730 --> 00:01:40.010
And in here,

49
00:01:40.010 --> 00:01:40.843
what I'm going to do

50
00:01:40.843 --> 00:01:43.360
is just disable the encryption of data at rest,

51
00:01:43.360 --> 00:01:46.730
click on next, and then everything looks good.

52
00:01:46.730 --> 00:01:47.563
We don't really care.

53
00:01:47.563 --> 00:01:49.940
I just want to show you the idea behind it.

54
00:01:49.940 --> 00:01:51.590
So, now I have two EFS.

55
00:01:51.590 --> 00:01:53.150
Let's say that the unencrypted EFS

56
00:01:53.150 --> 00:01:54.240
is what I'm currently using.

57
00:01:54.240 --> 00:01:57.490
And then I want to move my data to an encrypted EFS, okay?

58
00:01:57.490 --> 00:01:58.466
So what I'm going to do then

59
00:01:58.466 --> 00:02:00.430
is to use the DataSync service.

60
00:02:00.430 --> 00:02:03.643
And this is why the DataSync service is available here

61
00:02:03.643 --> 00:02:04.770
on the left hand side.

62
00:02:04.770 --> 00:02:06.490
So by clicking on DataSync,

63
00:02:06.490 --> 00:02:08.880
I'm going to be able to synchronize my data

64
00:02:08.880 --> 00:02:10.460
between my two EFS

65
00:02:10.460 --> 00:02:13.000
and then make sure I can transition from one to another.

66
00:02:13.000 --> 00:02:14.095
So using DataSync,

67
00:02:14.095 --> 00:02:18.210
we want to transition a data transfer task

68
00:02:18.210 --> 00:02:21.440
between AWS storage services.

69
00:02:21.440 --> 00:02:23.200
So I'll create a new location.

70
00:02:23.200 --> 00:02:26.080
And then the first location is an EFS file system,

71
00:02:26.080 --> 00:02:27.960
which is my unencrypted EFS.

72
00:02:27.960 --> 00:02:31.630
And you can specify a mount path if you wanted to, okay?

73
00:02:31.630 --> 00:02:34.980
And next, I can create a target location, a destination.

74
00:02:34.980 --> 00:02:37.200
So again, an EFS file system

75
00:02:37.200 --> 00:02:40.180
and this time is going to be my encrypted EFS.

76
00:02:40.180 --> 00:02:41.013
Click on next.

77
00:02:41.013 --> 00:02:44.170
And then you could configure obviously your tests.

78
00:02:44.170 --> 00:02:46.695
So their name will be DemoTask and so on.

79
00:02:46.695 --> 00:02:50.800
And then you could obviously do some data things specific,

80
00:02:50.800 --> 00:02:52.360
some settings, okay?

81
00:02:52.360 --> 00:02:54.690
But the idea is that when the task is created

82
00:02:54.690 --> 00:02:58.410
and you would need to create a DataSync

83
00:02:58.410 --> 00:03:00.340
CloudWatch log groups, let's go next.

84
00:03:00.340 --> 00:03:03.600
You would verify everything and then click on create task.

85
00:03:03.600 --> 00:03:05.960
And this would synchronize your two EFS file systems.

86
00:03:05.960 --> 00:03:08.940
And you would be good to go for your migration,

87
00:03:08.940 --> 00:03:09.773
but it will not create it

88
00:03:09.773 --> 00:03:12.460
because it doesn't show you anything specific.

89
00:03:12.460 --> 00:03:15.415
And then I will just delete my unencrypted EFS

90
00:03:15.415 --> 00:03:20.415
by typing the file system's ID in here to confirm, okay?

91
00:03:20.480 --> 00:03:23.010
So that's it, you've seen EFS migration operations.

92
00:03:23.010 --> 00:03:25.693
I hope you liked it and it will see you in the next lecture.

