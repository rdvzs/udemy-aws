WEBVTT

1
00:00:00.120 --> 00:00:01.950
<v Instructor>So now let's talk about the differences</v>

2
00:00:01.950 --> 00:00:05.460
of EBS volumes and EFS file systems.

3
00:00:05.460 --> 00:00:08.580
So the EBS volumes, they're attached to one instance

4
00:00:08.580 --> 00:00:11.160
at a time, except in the edge case

5
00:00:11.160 --> 00:00:12.750
of using the multi attached feature

6
00:00:12.750 --> 00:00:15.660
of the io1 and io2 types of volume,

7
00:00:15.660 --> 00:00:18.450
but that is for very specific use cases.

8
00:00:18.450 --> 00:00:21.930
EBS volumes are also locked at the AZ level,

9
00:00:21.930 --> 00:00:23.460
so here is an example.

10
00:00:23.460 --> 00:00:25.440
We have one EC2 in AZ 1

11
00:00:25.440 --> 00:00:28.020
and we have one EBS volume attached to it

12
00:00:28.020 --> 00:00:31.560
and it cannot be attached to an EC2 instance in AZ 2.

13
00:00:31.560 --> 00:00:33.690
For the gp2 type of volume,

14
00:00:33.690 --> 00:00:37.440
the IO will increase if the disc size increases,

15
00:00:37.440 --> 00:00:41.730
and for the gp3 and IO1 type of volumes,

16
00:00:41.730 --> 00:00:46.730
you can increase the IO independently from your disc size.

17
00:00:46.920 --> 00:00:50.130
To migrate an EBS volume across AZ,

18
00:00:50.130 --> 00:00:51.540
we need to take a snapshot,

19
00:00:51.540 --> 00:00:54.210
so it will go into the EBS snapshots,

20
00:00:54.210 --> 00:00:57.540
and then we can restore the snapshot into another AZ.

21
00:00:57.540 --> 00:01:00.270
This is how we move from one AZ to the next.

22
00:01:00.270 --> 00:01:04.230
Now, the EBS volumes backups, they will use IO,

23
00:01:04.230 --> 00:01:06.270
and so you shouldn't run them while your application

24
00:01:06.270 --> 00:01:07.740
is handling a lot of traffic

25
00:01:07.740 --> 00:01:10.020
because that may impact the performance.

26
00:01:10.020 --> 00:01:13.260
For your EC2 instances, the route EBS volumes

27
00:01:13.260 --> 00:01:16.050
of your instances will get terminated by default

28
00:01:16.050 --> 00:01:18.180
if the EC2 instance gets terminated,

29
00:01:18.180 --> 00:01:19.893
but you can disable that behavior.

30
00:01:20.790 --> 00:01:22.950
Now for EFS, it's a bit different.

31
00:01:22.950 --> 00:01:24.570
So it's a network file system,

32
00:01:24.570 --> 00:01:26.550
and the goal is really to attach it

33
00:01:26.550 --> 00:01:29.220
to hundreds of instances across availability zone,

34
00:01:29.220 --> 00:01:31.200
so we really see the distinction here.

35
00:01:31.200 --> 00:01:33.630
So one with one EFS file system,

36
00:01:33.630 --> 00:01:35.970
we can have different mount targets in different AZs,

37
00:01:35.970 --> 00:01:38.100
and then multiple instances can share

38
00:01:38.100 --> 00:01:39.780
that one file system together, .

39
00:01:39.780 --> 00:01:42.060
So it's very helpful, for example, when you have WordPress

40
00:01:42.060 --> 00:01:43.890
and it's only for Linux instances

41
00:01:43.890 --> 00:01:46.200
because it is using the POSIX system.

42
00:01:46.200 --> 00:01:49.890
The EFS has a higher price point than EBS,

43
00:01:49.890 --> 00:01:53.700
but you can leverage storage tiers for cost savings.

44
00:01:53.700 --> 00:01:56.511
So hopefully you understand now the difference between EFS

45
00:01:56.511 --> 00:01:59.130
and EBS and for the instance store,

46
00:01:59.130 --> 00:02:02.100
well it is physically attached to the EC2 instance,

47
00:02:02.100 --> 00:02:04.560
and so therefore if you, you lose your EC2 instance,

48
00:02:04.560 --> 00:02:06.750
you will lose the storage as well.

49
00:02:06.750 --> 00:02:09.060
All right, that's it, I hope you liked it,

50
00:02:09.060 --> 00:02:11.073
and I will see you in the next lecture.

