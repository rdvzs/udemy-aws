WEBVTT

1
00:00:00.450 --> 00:00:01.920
<v Instructor>So let's talk about the differences</v>

2
00:00:01.920 --> 00:00:05.250
between the SSM Parameter store and Secrets Manager.

3
00:00:05.250 --> 00:00:07.560
So Secrets Manager is more expensive,

4
00:00:07.560 --> 00:00:09.810
and you're going to have the automation

5
00:00:09.810 --> 00:00:12.990
of the rotation of the secrets using Lambda functions.

6
00:00:12.990 --> 00:00:15.330
Some of these Lambda functions are going to be provided

7
00:00:15.330 --> 00:00:16.163
out of the box.

8
00:00:16.163 --> 00:00:18.990
For example, for RDS, for Redshift, or Document DB,

9
00:00:18.990 --> 00:00:22.140
that have strong integrations with Secrets Manager.

10
00:00:22.140 --> 00:00:23.970
So it saves you a little bit of time.

11
00:00:23.970 --> 00:00:27.060
KMS encryption is going to be mandatory for your secrets

12
00:00:27.060 --> 00:00:29.460
and you can integrate them with CloudFormation.

13
00:00:29.460 --> 00:00:32.730
The Parameter Store has a more, has a wider type of use case

14
00:00:32.730 --> 00:00:33.660
and is less expensive.

15
00:00:33.660 --> 00:00:35.490
It has a simple API.

16
00:00:35.490 --> 00:00:36.870
There is no secret rotation,

17
00:00:36.870 --> 00:00:38.580
although I will show you in the next slide

18
00:00:38.580 --> 00:00:41.130
how you can enable rotation on your own

19
00:00:41.130 --> 00:00:44.757
using a Lambda function triggered by EventBridge.

20
00:00:44.757 --> 00:00:46.470
KMS encryption is going to be optional

21
00:00:46.470 --> 00:00:47.640
because you can store secrets

22
00:00:47.640 --> 00:00:50.040
or just parameters in the Parameter Store

23
00:00:50.040 --> 00:00:52.230
and it also has integration CloudFormation.

24
00:00:52.230 --> 00:00:55.590
And it is possible for you to pull a Secrets Manager

25
00:00:55.590 --> 00:00:57.870
from a Secret from Secrets Manager

26
00:00:57.870 --> 00:00:59.790
using the SSM Parameter Store API.

27
00:00:59.790 --> 00:01:00.930
This is about events.

28
00:01:00.930 --> 00:01:03.180
But, so if we have a look at rotation of secrets

29
00:01:03.180 --> 00:01:05.910
between the Parameter Store and Secrets Manager.

30
00:01:05.910 --> 00:01:07.560
Well, first for Secrets Manager,

31
00:01:07.560 --> 00:01:09.690
say we want to rotate the password

32
00:01:09.690 --> 00:01:11.730
of an Amazon RDS database.

33
00:01:11.730 --> 00:01:14.010
Therefore, we are going to set up Secrets Manager

34
00:01:14.010 --> 00:01:17.670
to automatically invoke every 30 days a Lambda function.

35
00:01:17.670 --> 00:01:20.070
Now, this Lambda function, for example, for RDS,

36
00:01:20.070 --> 00:01:23.910
is provided by AWS and is deployed in your accounts by AWS.

37
00:01:23.910 --> 00:01:27.300
You just need to use it using Secrets Manager.

38
00:01:27.300 --> 00:01:29.580
What it will do is that it will change the password

39
00:01:29.580 --> 00:01:31.440
of your Amazon RDS database.

40
00:01:31.440 --> 00:01:33.570
So this is a native functionality.

41
00:01:33.570 --> 00:01:35.910
And in case it is just a random secret

42
00:01:35.910 --> 00:01:38.670
that is not deeply integrated with Secrets Manager,

43
00:01:38.670 --> 00:01:41.340
then you need to write your own Lambda function for it.

44
00:01:41.340 --> 00:01:44.850
But again, the documentation is provided by AWS.

45
00:01:44.850 --> 00:01:46.230
Now, for the SSM Parameter Store,

46
00:01:46.230 --> 00:01:48.390
there is no native feature to the rotation.

47
00:01:48.390 --> 00:01:51.450
But let's say you were storing an RDS database password

48
00:01:51.450 --> 00:01:53.340
into the SSM Parameter Store,

49
00:01:53.340 --> 00:01:54.720
then what I would do would be

50
00:01:54.720 --> 00:01:56.700
to create an Amazon EventBridge rule

51
00:01:56.700 --> 00:01:58.740
that would be invoked every 30 days

52
00:01:58.740 --> 00:02:00.390
and that will invoke a Lambda function

53
00:02:00.390 --> 00:02:02.220
that you would have to write on your own

54
00:02:02.220 --> 00:02:05.520
to change the password of your Amazon RDS database

55
00:02:05.520 --> 00:02:08.881
and also to change the value in it

56
00:02:08.881 --> 00:02:12.360
that is stored in your SSM Parameter Store.

57
00:02:12.360 --> 00:02:14.370
So hopefully that makes sense into what are the differences

58
00:02:14.370 --> 00:02:17.310
between the Secrets Manager and the SSM Parameter Store.

59
00:02:17.310 --> 00:02:18.330
I hope you like this lecture

60
00:02:18.330 --> 00:02:20.280
and I will see you in the next lecture.

